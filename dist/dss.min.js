var commentre=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,css=function(a,b){b=b||{};var c=1,d=1;function e(a){var b=a.match(/\n/g);b&&(c+=b.length);var e=a.lastIndexOf("\n");d=~e?a.length-e:d+a.length}function f(){return function(a){return n(),a}}var g=[];function h(a){console.log(a)}function i(){var a=l();return{type:"stylesheet",stylesheet:{rules:a,parsingErrors:g}}}function j(){return m(/^{\s*/)}function k(){return m(/^}/)}function l(){var b,c=[];n(),o(c);while(a.length&&"}"!=a.charAt(0)&&(b=G()||H()))b!==!1&&(c.push(b),o(c));return c}function m(b){var c=b.exec(a);if(c){var d=c[0];return e(d),a=a.slice(d.length),c}}function n(){m(/^\s*/)}function o(a){var b;a=a||[];while(b=p())b!==!1&&a.push(b);return a}function p(){var b=f();if("/"==a.charAt(0)&&"*"==a.charAt(1)){var c=2;while(""!=a.charAt(c)&&("*"!=a.charAt(c)||"/"!=a.charAt(c+1)))++c;if(c+=2,""===a.charAt(c-1))return h("End of comment missing");var g=a.slice(2,c-2);return d+=2,e(g),a=a.slice(c),d+=2,b({type:"comment",comment:g})}}function q(){var a=m(/^([^{]+)/);if(a)return trim(a[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(a){return a.replace(/,/g,"\u200c")}).split(/\s*(?![^(]*\)),\s*/).map(function(a){return a.replace(/\u200C/g,",")})}function r(){var a=f(),b=m(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(b){if(b=trim(b[0]),!m(/^:\s*/))return h("property missing ':'");var c=m(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),d=a({type:"declaration",property:b.replace(commentre,""),value:c?trim(c[0]).replace(commentre,""):""});return m(/^[;\s]*/),d}}function s(){var a=[];if(!j())return h("missing '{'");o(a);var b;while(b=r())b!==!1&&(a.push(b),o(a));return k()?a:h("missing '}'")}function t(){var a,b=[],c=f();while(a=m(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/))b.push(a[1]),m(/^,\s*/);return b.length?c({type:"keyframe",values:b,declarations:s()}):void 0}function u(){var a=f(),b=m(/^@([-\w]+)?keyframes\s*/);if(b){var c=b[1],b=m(/^([-\w]+)\s*/);if(!b)return h("@keyframes missing name");var d=b[1];if(!j())return h("@keyframes missing '{'");var e,g=o();while(e=t())g.push(e),g=g.concat(o());return k()?a({type:"keyframes",name:d,vendor:c,keyframes:g}):h("@keyframes missing '}'")}}function v(){var a=f(),b=m(/^@supports *([^{]+)/);if(b){var c=trim(b[1]);if(!j())return h("@supports missing '{'");var d=o().concat(l());return k()?a({type:"supports",supports:c,rules:d}):h("@supports missing '}'")}}function w(){var a=f(),b=m(/^@host\s*/);if(b){if(!j())return h("@host missing '{'");var c=o().concat(l());return k()?a({type:"host",rules:c}):h("@host missing '}'")}}function x(){var a=f(),b=m(/^@media *([^{]+)/);if(b){var c=trim(b[1]);if(!j())return h("@media missing '{'");var d=o().concat(l());return k()?a({type:"media",media:c,rules:d}):h("@media missing '}'")}}function y(){var a=f(),b=m(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);return b?a({type:"custom-media",name:trim(b[1]),media:trim(b[2])}):void 0}function z(){var a=f(),b=m(/^@page */);if(b){var c=q()||[];if(!j())return h("@page missing '{'");var d=o(),e;while(e=r())d.push(e),d=d.concat(o());return k()?a({type:"page",selectors:c,declarations:d}):h("@page missing '}'")}}function A(){var a=f(),b=m(/^@([-\w]+)?document *([^{]+)/);if(b){var c=trim(b[1]),d=trim(b[2]);if(!j())return h("@document missing '{'");var e=o().concat(l());return k()?a({type:"document",document:d,vendor:c,rules:e}):h("@document missing '}'")}}function B(){var a=f(),b=m(/^@font-face\s*/);if(b){if(!j())return h("@font-face missing '{'");var c=o(),d;while(d=r())c.push(d),c=c.concat(o());return k()?a({type:"font-face",declarations:c}):h("@font-face missing '}'")}}var C=F("import"),D=F("charset"),E=F("namespace");function F(a){var b=new RegExp("^@"+a+"\\s*([^;]+);");return function(){var c=f(),d=m(b);if(d){var e={type:a};return e[a]=d[1].trim(),c(e)}}}function G(){return"@"==a[0]?u()||x()||y()||v()||C()||D()||E()||A()||z()||w()||B():void 0}function H(){var a=f(),b=q();return b?(o(),a({type:"rule",selectors:b,declarations:s()})):h("selector missing")}return addParent(i())};function trim(a){return a?a.replace(/^\s+|\s+$/g,""):""}function addParent(a,b){var c=a&&"string"==typeof a.type,d=c?a:b;for(var e in a){var f=a[e];Array.isArray(f)?f.forEach(function(a){addParent(a,d)}):f&&"object"==typeof f&&addParent(f,d)}return c&&Object.defineProperty(a,"parent",{configurable:!0,writable:!0,enumerable:!1,value:b||null}),a}!function(a){"use strict";a.dss=function(){return{core:{}}}()}(this),function(a){"use strict";a.core.ajax=function(a){var b=a.callback||function(){return!1},c=a.url,d=a.method||"GET",e=a.data||!1,f;if("undefined"!=typeof XMLHttpRequest)f=new XMLHttpRequest;else for(var g=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],h=0,i=g.length;i>h;h++)try{f=new ActiveXObject(g[h]);break}catch(j){}f.onreadystatechange=k;function k(){f.readyState<4||200===f.status&&4===f.readyState&&b(f.response)}f.open(d,c,!0),"POST"==d.toUpperCase()?(f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e=x.core.serialize(e),f.send(e)):f.send("")}}(this.dss),function(a){"use strict";a.core.changeDynamics=function(b,c){a.core.mySheet="",a.core.refreshValues.push([b,c]);var d=[];c.forEach(function(b){var c=a.core.findMatch(b);b=b.property+":"+b.value+";",d.push(b)}),a.core.putRule(b,d),a.core.refreshDss(a.core.refreshValues)}}(this.dss),function(a){"use strict";a.core.changeDynamicsOnTheGo=function(b,c){a.core.rules=[],c.forEach(function(b){var c=a.core.findMatch(b);b=c[0]+":"+c[1]+";",a.core.rules.push(b)}),a.core.putRule(b,a.core.rules)}}(this.dss),function(a){"use strict";a.core.concatProps=function(a){var b="";for(var c in a)b+=c+":"+a[c]+";";return b}}(this.dss),function(a){"use strict";a.core.defineMethod=function(b,c){if(a[b])throw"Method already "+b+"() exists";a[b]=c}}(this.dss),function(a){"use strict";a.core.extractField=function(a,b,c){if(a=a.replace(/\}\}/g,"").replace(/\{\{/g,"").trim(),b){var d="";if(a.indexOf(".")>0)return d=a.split("."),a=a.replace(d[0]+".",""),x.core.extractField(a,b[d[0]]);if(a.indexOf("][")>0)d=a.split("][");else{if(!(a.indexOf("[")>0))return b[a];d=a.split("[")}}}}(this.dss),function(a){"use strict";a.core.fetchExternalStyleSheets=function(){var b=document.querySelectorAll('link[rel="dynamic-stylesheet"]'),c=b.length,d=0;return 0===c&&(a.core.IS_INITIALIZED=!0),[].forEach.call(b,function(b){return b.attributes.href?a.core.loadStyleSheets(b.attributes.href.value,function e(){d++,c===d&&(a.core.IS_INITIALIZED=!0)}):void c--})}}(this.dss),function(a){"use strict";a.core.fetchInlineStyle=function(){var b=document.querySelectorAll('style[type="dynamic-stylesheet"]');[].forEach.call(b,function(b){a.core.parseInlineStyleSheets(b.textContent);var c=document.createElement("style");c.setAttribute("rel","inline-stylesheet"),c.appendChild(document.createTextNode(b.textContent)),document.head.appendChild(c)})}}(this.dss),function(a){"use strict";a.core.fetchStyleSheets=function(){a.core.fetchExternalStyleSheets(),a.core.fetchInlineStyle()}}(this.dss),function(a){"use strict";a.core.findDynamics=function(b,c){c.filter(function(a){return-1!==a.value.indexOf("||")}),a.core.changeDynamics(b,c)}}(this.dss),function(dss){"use strict";function _parse(value){var newValue=value;for(var property in dss.core.dynamics)"number"==typeof dss.core.dynamics[property]&&(newValue=newValue.replace(new RegExp(property,"gmi"),dss.core.dynamics[property])),"string"==typeof dss.core.dynamics[property]&&(newValue=newValue.replace(new RegExp(property,"gmi"),"'"+dss.core.dynamics[property]+"'"));try{return eval(newValue)}catch(err){return newValue}}function _parseFields(a){var b=a.replace(/(\|\|[^\|]*\|\|)/gim,function(a){var b=a.replace(/\|/gim,"").split(":");if(dss.core.dynamics&&dss.core.dynamics[b[0]])return dss.core.dynamics[b[0]];var c=_parse(b[0]);return c!==!1&&b[0]!==c?_parse(b[0]):b[1]||!1});return b}dss.core.findMatch=function(a){return[a.property,_parseFields(a.value)]}}(this.dss),function(a){"use strict";a.core.flatProperties=function(a){a=[].concat.apply([],a),a=[].concat.apply([],a);var b={};return a.forEach(function(a){var c=a.match(/[^\;]*/gim)[0].split(":");b[c[0].trim()]=c.splice(1).join("").trim()}),b}}(this.dss),function(a){"use strict";a.core.flatRules=function(){var b={};for(var c in a.core.myRules)b.hasOwnProperty(c.trim())||(b[c.trim()]=[]),b[c.trim()].push(a.core.myRules[c]);for(var d in b)b[d]=a.core.flatProperties(b[d]);return b}}(this.dss),function(a){"use strict";a.core.generateCss=function(b){var c="";for(var d in b)c+=d+"{"+a.core.concatProps(b[d])+"}";return c}}(this.dss),function(a){"use strict";a.core.loadStyleSheets=function(b,c){a.core.ajax({url:b,callback:function d(e){a.core.parseStyleSheets(e,b),c()}})}}(this.dss),function(a){"use strict";a.core.parseInlineStyleSheets=function(b){b.match(/.*{[^}]*}/gim).forEach(a.core.parseRule)}}(this.dss),function(a){"use strict";a.core.parseRule=function(b){a.core.findDynamics(b.selectors.join(","),b.declarations)}}(this.dss),function(a){"use strict";a.core.parseStyleSheets=function(b,c){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href",c),d.setAttribute("type","text/css"),document.head.appendChild(d),css(b).stylesheet.rules.forEach(a.core.parseRule)}}(this.dss),function(a){"use strict";a.core.putRule=function(b,c){a.core.myRules||(a.core.myRules={}),a.core.myRules[b]||(a.core.myRules[b]=[]),a.core.myRules[b].push(c)}}(this.dss),function(a){"use strict";a.core.refreshDss=function(b){a.core.mySheet="",a.core.myRules={},b.forEach(function(b){a.core.changeDynamicsOnTheGo(b[0],b[1])}),a.core.render(b)}}(this.dss),function(a){"use strict";a.core.refreshValues=[]}(this.dss),function(a){"use strict";a.core.render=function(){var b=document.querySelectorAll('[rel="dss-generated-stylesheet"]');[].forEach.call(b,function(a){document.head.removeChild(a)});var c=document.createElement("style");c.setAttribute("rel","dss-generated-stylesheet"),c.appendChild(document.createTextNode(a.core.generateCss(a.core.flatRules()))),document.head.appendChild(c)}}(this.dss),function(a){"use strict";function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}a.core.defineMethod("addDefaultProperty",function(c,d){if(d=d(),d["default"]){var e=d["default"]();for(var f in e)a.setProperty(c+b(f),e[f])}d.context.addEventListener(d.event,function g(){var e=d.getter.apply(d,arguments);for(var f in e)a.setProperty(c+b(f),e[f])})}),a.core.defineMethod("setDynamicProperty",function(c,d){d=d(),d.context.addEventListener(d.event,function e(){var e=d.getter.apply(d,arguments);for(var f in e)a.setProperty(c+b(f),e[f])})})}(this.dss),function(a){"use strict";a.core.defineMethod("init",a.core.fetchStyleSheets),document.addEventListener("DOMContentLoaded",a.init,!1)}(this.dss),function(a){"use strict";a.core.defineMethod("setProperty",function(b,c){a.core.dynamics||(a.core.dynamics={}),a.core.dynamics[b]=c,a.core.IS_INITIALIZED&&a.core.refreshDss(a.core.refreshValues)})}(this.dss),function(a){"use strict";a.core.defineMethod("bounds",function(a,b){return function(c){return a>c?a:c>b?b:c}})}(this.dss),function(a){"use strict";a.core.defineMethod("if",function(a){return function(b){return function(c){return a?b:c}}})}(this.dss),function(a){"use strict";a.core.defineMethod("limitDown",function(a){return function(b){return a>b?a:b}})}(this.dss),function(a){"use strict";a.core.defineMethod("limitUp",function(a){return function(b){return b>a?a:b}})}(this.dss),function(a){"use strict";a.core.defineMethod("pon",function(a){return Math.max(0,a)})}(this.dss),function(a){"use strict";a.addDefaultProperty("mouse",function(){return{context:document,event:"mousemove",getter:function(a){return{x:a.pageX,y:a.pageY}}}})}(this.dss),function(a){"use strict";a.addDefaultProperty("scroll",function(){return{context:document,event:"scroll",getter:function(a){return{x:window.scrollX,y:window.scrollY}}}})}(this.dss),function(a){"use strict";a.addDefaultProperty("window",function(){return{context:window,event:"resize",getter:function(a){return{width:window.innerWidth,height:window.innerHeight}},"default":function(){return{width:window.innerWidth,height:window.innerHeight}}}})}(this.dss);
//# sourceMappingURL=dss.min.map